<div class="row">

    <div class="card">
        <!-- debug information -->
        <pre *ngIf="debug">{{axis.toString()}}</pre>
        <!-- Axis Panel Heading -->
        <div class="card-header">
            <h6 class="card-title">
                <button type="button" class="btn-xs btn-success">
                    <span class="glyphicon glyphicon-off" aria-hidden="true">ON</span>
                </button> {{axis.name}} / Speed [steps/s] {{axis.speed}} / Position: {{axis.pos}}
            </h6>
        </div>
        <!-- Axis Panel Body -->
        <div class="card-body">
            <!-- 1. row -->
            <div class="row">
                <!-- Slider -->
                <div class="col">
                    <input type="range" name="speed" min="-{{axis.maxSpeed}}" max="{{axis.maxSpeed}}" *ngIf="axis.commandmode=='run'" [(ngModel)]="axis.speed"
                        (touchend)="run()" (click)="run()" />
                    <input type="range" name="position" *ngIf="axis.commandmode=='go'" [disabled]="((axis.startSoftStop == 0) || (axis.endSoftStop == 0))"
                        min="{{axis.startSoftStop}}" max="{{axis.endSoftStop}}" [(ngModel)]="axis.commandedPos" (touchend)="go()"
                        (click)="go()" />
                </div>
            </div>
            <!-- 2. row -->
            <div class="row">
                <div class="col-xs-9">
                    <!-- Home -->
                    <div class="btn-group" role="group" style="margin-right:10pt">
                        <button type="button" class="btn-sm btn-secondary" [ngClass]="{'recording' : axis.programmingState=='REC', 'delete' : axis.programmingState=='DEL',  'btn-secondary' : axis.programmingState=='OFF'}"
                            (click)="home()">
                            <span class="glyphicon glyphicon-home" aria-hidden="true">H</span>
                        </button>
                        <button type="button" class="btn-sm btn-secondary" (click)="mark()">
                            <span class="glyphicon glyphicon-map-marker" aria-hidden="true">MARK</span>
                        </button>
                    </div>

                    <!-- Command Mode -->
                    <div class="btn-group" role="group" style="margin-right:10pt">
                        <button type="button" class="btn-sm btn-secondary" [ngClass]="{'btn-success' : axis.commandmode=='run'}" (click)="commandmode('run')">S</button>
                        <button [disabled]="((axis.startSoftStop == 0) || (axis.endSoftStop == 0))" type="button" class="btn-sm btn-secondary"
                            [ngClass]="{'btn-success' : axis.commandmode=='go'}" (click)="commandmode('go')">P</button>
                    </div>

                    <!--Stop/nudge/run-->
                    <div class="btn-group" role="group">
                        <button [disabled]="((axis.startSoftStop == 0) && (axis.programmingState == 'OFF'))" type="button" class="btn-sm btn-secondary" [ngClass]="{'recording' : axis.programmingState=='REC', 'delete' : axis.programmingState=='DEL', 'btn-secondary' : axis.programmingState=='OFF'}"
                            (click)="startSoftStopClicked(axis)">
                                    <span class="glyphicon glyphicon-fast-backward" aria-hidden="true">|<</span>
                                </button>
                        <button type="button" class="btn-sm btn-secondary" (click)="run(-1*axis.maxSpeed)">
                                    <span class="glyphicon glyphicon-backward" aria-hidden="true"><<</span>
                                </button>
                        <button type="button" class="btn-sm btn-secondary" (click)="move('REV',100)">
                                    <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"><</span>
                                </button>
                    </div>
                    <div class="btn-group" role="group">
                        <button type="button" class="btn-sm btn-secondary" (click)="stop()">
                                    <span class="glyphicon glyphicon-stop" aria-hidden="true">STOP</span>
                                </button>
                    </div>
                    <div class="btn-group" role="group">
                        <button type="button" class="btn-sm btn-secondary" (click)="move('FWD',100)">
                            <span class="glyphicon glyphicon-chevron-right" aria-hidden="true">></span>
                        </button>
                        <button type="button" class="btn-sm btn-secondary" (click)="run(axis.maxSpeed)">
                            <span class="glyphicon glyphicon-forward" aria-hidden="true">>></span>
                        </button>
                        <button [disabled]="((axis.endSoftStop == 0) && (axis.programmingState == 'OFF'))" type="button" class="btn-sm" [ngClass]="{'recording' : axis.programmingState=='REC', 'delete' : axis.programmingState=='DEL', 'btn-secondary' : axis.programmingState=='OFF'}"
                            (click)="endSoftStopClicked(axis)">
                            <span class="glyphicon glyphicon-fast-forward" aria-hidden="true">>|</span>
                        </button>
                    </div>


                </div>
                <div class="col">

                    <div class="btn-group" role="group">
                        <!-- Record -->
                        <button 
                        ng-disabled="axis.programmingState == 'DEL'" type="button" class="btn-sm" 
                        [ngClass]="{'recording' : axis.programmingState=='REC', 'btn-secondary' : axis.programmingState=='OFF'}"
                            (click)="recordToggle()">
                            <span class="glyphicon glyphicon-record" aria-hidden="true">REC</span>
                        </button>
                        <!-- Delete -->
                        <button id="delete{{index}}" ng-disabled="axis.programmingState == 'REC'" type="button" class="btn-sm" [ngClass]="{'delete' : axis.programmingState=='DEL', 'btn-secondary' : axis.programmingState=='OFF'}"
                            (click)="deleteToggle(axis)">
                            <span class="glyphicon glyphicon-remove" aria-hidden="true">DEL</span>
                        </button>
                        <button id="keyframe{{index}}" type="button" class="btn-sm btn-secondary" (click)="markKeyframe(axis)">
                            KF
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>